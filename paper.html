<h1 id="_1">一个网页的前生今世</h1>
<h2 id="_2">开篇</h2>
<p>从你在浏览器的地址栏输入网址按下回车键的那一刻起，一直到一个网页完整的展现在你的面前，这个过程它到底经历了什么，这篇文章会带你了解一个网页的前生今世。</p>
<p>当你把www.baidu.com输入浏览器的时候，计算机就会把你想要的内容呈现给你，这是一件很神奇的事情，网络之大，大到我们不可想象，单单凭借这几个字母，计算机就能精确的把你想要的内容呈现给你，先别急着惊讶，待我们一起了解完原理之后，我相信你一定会对它感到赞叹！</p>
<h2 id="_3">人机之间的转换</h2>
<p>www.baidu.com只是给我们人看的，因为它很好记忆，这样可以很方便的让我们访问它，然而计算机可不认它，在网络的世界里，计算机之间是如何相互认识的呢？就像我们人一样，他们也是通过地址来寻找对方的，这个地址就是IP。</p>
<h3 id="ip">浅谈IP</h3>
<p>我们都知道计算机内部都是按照二进制来计算的(这是因为电平脉冲只有高电压和低电压，这一高一低电压，造就了绚烂缤纷的计算机世界），IP地址就是一串长度为32的二进制数‘0’，‘1’组成的。为什么长度是32呢，其实不为啥，创造它的人就是这么定的，但是就是因为这个32，引发了IP一个致命的缺点，下面听我来分析一下，首先我们来做个计算，32位长的‘0’，‘1’最多能有多少种不重复的组合呢？结果是四十多亿。创造IP地址的那帮人可能认为这是个挺大的数了，其实不然！地球有70多亿的人口，也就是说平均两个人才能分到一个，可是现如今谁没个三五台计算机都不好意思出门呢(手机，平板，智能手表等都可称为计算机)！所以IP的致命缺点就是，他是稀缺资源啊！</p>
<p><img alt="ip的模样" src="/media/syk/work/work/pic/ip.png" />
上图中红色箭头指向的就是一个ip转换为10进制后的模样</p>
<h4 id="_4">解决方案</h4>
<p>现如今有两个方案，其中一个也是现如今大家都在用的就是地址共用，就是说我们好几个人共用一个IP，但是这个方案治标不治本，不能根治地址不够用这个问题，那么另一个就是我们把长度增加，也就是说我们使用IPv6,把32位长，变为64位长。首先我来介绍一下地址共用。</p>
<p>对于我们用户来讲，每次都是我们找服务器要东西，从来不会有服务器找我们要东西的时候，所以只需要我们用户知道服务器地址就可以了，也就是说服务器的地址是不能频繁的变的，不然大家都找不到服务器了，因此服务器的IP是不共用的，但是普通用户就无所谓了，所以这里的地址共用就是说用户的地址是共用烦人，所以这也就出现了你每次上网的时候的IP都是不一样的现象！</p>
<p>改变IP地址长度可不是一件小事情，因此IPv6还没有大范围的应用，不过我们正在逐渐的过渡。</p>
<p>在这里我要插一件小的事实，那就是IP现在是掌握在美国的手里面，我们全中国的IP数目加起来都不如美国一所大学拥有的IP数量多！不过我国在IPv6技术领域很有可能将打破美国的垄断现象！</p>
<h3 id="dns">DNS是什么鬼</h3>
<p>现在大家应该知道了IP是个什么鬼了，因此想要找到网络上的一个网页，首先你需要知道它所在的计算机的IP，但是你每次访问网页也没有输入IP啊，别着急，你不是输入网址了么，计算机很智能的，他自己可以做一个转换。</p>
<p>计算机会将你输入的网址经过一个叫做DNS的东西来转化为它所认识的IP。</p>
<p>为什么我们不直接使用IP而使用域名呢？有两点好处，其一，IP你记得住吗！其二，如果服务器的IP变了，只需要把DNS记录更改一下，让原来的域名映射到新的IP上即可，这样就就很方便了。</p>
<p>那么问题来了DNS又是什么鬼，DNS的全称叫做域名系统，他是专门用来把域名转化为IP的，当然它也具备逆解析的功能，即把IP变成域名。全球一共有13台根域名服务器，这13台服务器可了不得，一但他们瘫痪了，那么整个世界的互联网也就瘫痪了，计算机相互之间都找不到了，全都成了睁眼瞎！一个残酷的现实依旧是，他们都在美国的掌控之中！</p>
<p>有一种攻击，叫做dns劫持，就是你的计算机使用DNS查询IP的时候，他告诉了你一个假的IP，让你访问到它想让你访问的地方。比如你想上google，DNS却返回来一个百度的IP，那么你就直接跳转到百度去了。</p>
<p><img alt="一次域名解析" src="/media/syk/work/work/pic/nslookup.png" />
上图是对百度进行的一次域名解析过程</p>
<p>至此，访问一个网页的第一步，把域名变成IP就完成了。我们的计算机有了地址，接下来就应该根据这个地址去找到网页了。</p>